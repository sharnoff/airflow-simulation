% main.tex
%
% This file groups together all of the chapters, which are stored as neighboring files in this
% directory. It also establishes the general formatting of the paper, as specified here:
%   https://www.cs.ox.ac.uk/teaching/courses/projects/handbook/Project%20Handbook%202021.pdf
% And finally, it defines a number of commands that are used elsewhere.

\documentclass[12pt]{article}
\usepackage[paper=a4paper,margin=3cm]{geometry}
\frenchspacing

\usepackage[utf8]{inputenc}

\usepackage{amsmath}
\usepackage[toc]{appendix}
\usepackage{bm}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage{changepage}
\usepackage{float}
\usepackage[splitrule]{footmisc}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{mhchem}
\usepackage{multirow}
\usepackage[square,numbers]{natbib}
\usepackage{pgfplots}
\usepackage{subcaption}
\usepackage{textcomp}
\usepackage{titlesec}
\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{calc}
\usepackage{xcolor}

% funky helper stuff taken from https://tex.stackexchange.com/a/172095
% helps with braces in figs/bifurcation.tikz.tex
\makeatletter
\pgfdeclaremetadecoration{tikz@internal}{pre}{
  \state{pre}[width=\pgfkeysvalueof{/pgf/decoration/pre length}, next state=main]
  {
    \tikz@dec@trans
    \decoration{\pgfkeysvalueof{/pgf/decoration/pre}}
  }
  \state{main}[width=\pgfmetadecoratedremainingdistance-\pgfkeysvalueof{/pgf/decoration/post length}, next state=final]
  {
    \tikz@dec@trans
    \decoration{\tikz@decoration@name}
  }
  \state{final}
  {
    \tikz@dec@trans
    \decoration{\pgfkeysvalueof{/pgf/decoration/post}}
  }
}
\makeatother

% never break footnotes across pages -- https://tex.stackexchange.com/a/32210
%
% ... although this doesn't seem to be working as effectively as it should.
\interfootnotelinepenalty=10000

% A selection of colors making up a pastel-like palette, just so everything's a bit more pleasing on
% the eye.
\definecolor{softgrey}{HTML}{808080}
\definecolor{softblue}{HTML}{4C70D4}
\definecolor{softgreen}{HTML}{26AB56}
\definecolor{softyellow}{HTML}{EBE426}
\definecolor{softorange}{HTML}{F57E16}
\definecolor{softred}{HTML}{CF463C}

% Used as an "almost" `softblue`
\definecolor{softsoftblue}{HTML}{698DF0}

% Usage: \code{ <text> }
%
% Produces inline code formatting.
\newcommand{\code}[1]{\texttt{#1}}

% Usage: \breakpars
%
% Adds a little bit of space in between paragraphs.
\newcommand{\breakpars}{\vspace{0.1in}}

% Usage \norm { math mode content }
%
% Outputs the norm / magnitude / absolute value of the contents - || contents ||
% Taken from https://tex.stackexchange.com/a/107190
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}

% Usage \tightbox { content, e.g. \includegraphics{..} }
%
% Creates a box that exactly borders the content
\newcommand{\tightbox}[1]{%
    {\setlength{\fboxsep}{0pt}\fbox{#1}}%
}

% \newcommand{\todo}[1]{%
%     \begin{adjustwidth}{-0.5cm}{-0.5cm}{%
%         \noindent\textcolor{red}{Todo:} \bf{#1}%
%     }\end{adjustwidth}%
% }

\begin{document}

% Title page

\begin{titlepage}
\begin{center}
    \Huge
    \textbf{Investigations using a virtual lung model}
    
    \vspace{1.5cm}
    \textbf{Max Sharnoff}
    
    Trinity 2022 \\
    BA Computer Science
\end{center}
\end{titlepage}

% Blank page
\newpage\ \addtocounter{page}{-1} \thispagestyle{empty}

% Abstract
\newpage
\input{Abstract.tex}

% Table of contents
\newpage
\tableofcontents

\newpage
\input{Ch1-introduction.tex}

\newpage
\input{Ch2-background.tex}

\newpage
\input{Ch3-methods.tex}

\newpage
\input{Ch4-results.tex}

\newpage
\input{Ch5-conclusions.tex}

\newpage
\bibliography{ref.bib}{}
\bibliographystyle{abbrvnat}

\newpage

\begin{appendices}
\input{Appendices.tex}
\end{appendices}

\end{document}
