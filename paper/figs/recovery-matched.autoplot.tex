\pgfplotsset{
    xtick pos=left,
    xlabel={Time (s)},
    xmin=4, xmax=24,
    xtick={4,8,12,16,20,24},
    every tick label/.append style={font=\small},
    compat=1.3,
    width=.8\textwidth,
    height=.5\textwidth,
    legend style={
        at={(0.5,0.5)}, % adapted from https://tex.stackexchange.com/a/133878
        nodes={scale=0.7, transform shape}, % adapted from https://tex.stackexchange.com/a/301112
        anchor=center},
}

\begin{axis}[
    axis y line*=left,
    ylabel={Volume (L)},
    ymin=1.75, ymax=3.75,
    ytick={2.75,3,3.25,3.5,3.75},
    % grid stuff must be here; not global because otherwise the top axis gets overwritten
    minor x tick num=3,
    xminorgrids,
    xmajorgrids,
    grid style=dashed,
]

% constricted
\addplot[color=softred,style=thick] coordinates {
    % @setfileprefix(data/constriction-stats/d2b951ba10c28e9cfafdb3a67574bd882a649ad3/)
    % @generated(fields='1,6', range=402.., stride=5, 0.01x28s-10d@50%.csv)
};
% healthy
\addplot[color=softgreen,style=thick] coordinates {
    % @setfileprefix(data/constriction-stats/d2b951ba10c28e9cfafdb3a67574bd882a649ad3/)
    % @generated(fields='1,6', range=402.., stride=5, 0.01x28s-10d@0%.csv)
};
% matched
\addplot[color=softyellow,style=thick] coordinates {
    % @setfileprefix(data/degrade-and-return/3ed8c5cf2279df60ea4b7b353a8c91b6aa202a51/)
    % @generated(fields='1,3', range=402.., stride=5, matched-10d@50%-28s-tanh:8.00s-4s-4s.csv)
};
% recovery
\addplot[color=softblue,style=thick] coordinates {
    % @setfileprefix(data/degrade-and-return/3ed8c5cf2279df60ea4b7b353a8c91b6aa202a51/)
    % @generated(fields='1,6', range=402.., stride=5, 10d@50%-28s-tanh:8.00s-4s-4s.csv)
};
\end{axis}

\begin{axis}[
    axis y line*=right,
    ylabel={Flow in (L/s)},
    ymin=-0.5, ymax=1.75,
    ytick={-.5,-.25,0,.25,.5},
]
% constricted
\addplot[color=softred,style=thick] coordinates {
    % @setfileprefix(data/constriction-stats/d2b951ba10c28e9cfafdb3a67574bd882a649ad3/)
    % @generated(fields='1,5', range=402.., stride=5, 0.01x28s-10d@50%.csv)
};
\addlegendentry{Constricted}
% healthy
\addplot[color=softgreen,style=thick] coordinates {
    % @setfileprefix(data/constriction-stats/d2b951ba10c28e9cfafdb3a67574bd882a649ad3/)
    % @generated(fields='1,5', range=402.., stride=5, 0.01x28s-10d@0%.csv)
};
\addlegendentry{Healthy}
% matched
\addplot[color=softyellow,style=thick] coordinates {
    % @setfileprefix(data/degrade-and-return/3ed8c5cf2279df60ea4b7b353a8c91b6aa202a51/)
    % @generated(fields='1,2', range=402.., stride=5, matched-10d@50%-28s-tanh:8.00s-4s-4s.csv)
};
\addlegendentry{Matched}
% recovery
\addplot[color=softblue,style=thick] coordinates {
    % @setfileprefix(data/degrade-and-return/3ed8c5cf2279df60ea4b7b353a8c91b6aa202a51/)
    % @generated(fields='1,5', range=402.., stride=5, 10d@50%-28s-tanh:8.00s-4s-4s.csv)
};
\addlegendentry{Constrict and recover}
\end{axis}
